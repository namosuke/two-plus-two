import"./chunk-QKUHNQW3.js";import{b as x}from"./chunk-DIOGD74S.js";import"./chunk-VFC4DNEC.js";import"./chunk-2GUEMEWN.js";import{a as f}from"./chunk-BRQEXE2C.js";import"./chunk-BV6DNIGX.js";var h=r=>{if(r.length>0){let[e,...t]=r;return{result:"success",data:e,rest:t}}return{result:"fail"}};var a=r=>e=>{let t=h(e);return t.result==="fail"?t:t.data!==r?{result:"fail"}:{result:"success",data:r,rest:t.rest}},P=r=>e=>{let t=h(e);return t.result==="fail"?t:r(t.data)?{result:"success",data:t.data,rest:t.rest}:{result:"fail"}},E=P(r=>/^[A-Z]$/.test(r)),N=P(r=>/^[a-z]$/.test(r)),R=P(r=>/^[A-Za-z]$/.test(r)),m=P(r=>/^\d$/.test(r));var y=r=>e=>r(e).result==="success"?{result:"fail"}:{result:"success",data:null,rest:e},i=r=>e=>{for(let t of r){let s=t(e);if(s.result==="success")return s}return{result:"fail"}},u=r=>e=>{let t=[],s=e;for(let n of r){let o=n(s);if(o.result==="fail")return o;t.push(o.data),s=o.rest}return{result:"success",data:t,rest:s}},p=(r,e=0,t=Number.POSITIVE_INFINITY)=>s=>{if(e>t)throw new Error("rep: min > max is not allowed.");if(e<0)throw new Error("rep: negative min is not allowed.");if(t<0)throw new Error("rep: negative max is not allowed.");let n=[],o=s;for(let c=0;c<t;c++){let d=r(o);if(d.result==="fail")break;n.push(d.data),o=d.rest}return n.length<e?{result:"fail"}:{result:"success",data:n,rest:o}};var l=(r,e)=>t=>{let s=r(t);return s.result==="fail"?s:{result:"success",data:e(s.data),rest:s.rest}};var g=r=>e=>{let t=p(r,0,1)(e);return t.result==="fail"?t:{result:"success",data:t.data.length===0?{status:"none"}:{status:"some",value:t.data[0]},rest:t.rest}},A=(r,e)=>l(u([y(e),r]),([,t])=>t);var w=a("-"),S=i([a("0"),l(u([A(m,a("0")),p(m)]),([r,e])=>[r,...e].join(""))]),O=l(u([a("."),p(m,1)]),([r,e])=>[r,...e].join("")),B=l(u([i([a("E"),a("e")]),g(i([a("+"),a("-")])),p(m,1)]),([r,e,t])=>[r,e.status==="some"?e.value:"",...t].join("")),b=l(u([g(w),S,g(O),g(B)]),([r,e,t,s])=>{let n=c=>c.status==="some"?c.value:"",o=[n(r),e,n(t),n(s)].join("");return Number.parseFloat(o)});function T(r){return l(u([F,p(u([i([a("+"),a("-")]),F]))]),([e,t])=>t.reduce((s,[n,o])=>n==="+"?s+o:s-o,e))(r)}function F(r){return l(u([I,p(u([i([a("*"),a("/")]),I]))]),([e,t])=>t.reduce((s,[n,o])=>n==="*"?s*o:s/o,e))(r)}function I(r){return i([b,l(u([a("("),T,a(")")]),([,e])=>e)])(r)}function v(r){return r.replaceAll(/[Ａ-Ｚａ-ｚ０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248)).replaceAll(/(〇|ぜろ|ゼロ|zero)/gi,"0").replaceAll(/(一|いち|one)/gi,"1").replaceAll(/(二|に|two)/gi,"2").replaceAll(/(三|さん|three)/gi,"3").replaceAll(/(四|よん|し|four)/gi,"4").replaceAll(/(五|ご|five)/gi,"5").replaceAll(/(六|ろく|six)/gi,"6").replaceAll(/(七|なな|しち|seven)/gi,"7").replaceAll(/(八|はち|eight)/gi,"8").replaceAll(/(九|きゅう|nine)/gi,"9")}function C(r){let e=T([...v(r.formula.value).replaceAll(/([＋+➕]|たす|足す|plus)/gi,"+").replaceAll(/([-－―➖ーｰ]|ひく|引く|minus)/gi,"-").replaceAll(/([×✕✖x]|かける|掛ける|times|multiplied by)/gi,"*").replaceAll(/([/／÷➗]|わる|割る|over|divided by)/gi,"/").replaceAll("\uFF08","(").replaceAll("\uFF09",")").replaceAll(/\s+/g,"")]);r.truth.value=e.result==="success"?String(e.data*1.25):"?";let t=s=>{let n=v(s).replaceAll(/\s+/g,"");n===r.truth.value?r.bigBrotherIs.value="sleeping":e.result==="success"&&n===String(e.data)?r.bigBrotherIs.value="angry":r.bigBrotherIs.value="watching"};return f("div",{class:"w-1/3 p-2 flex",children:[f("span",{class:"py-2",children:"="}),f("input",{type:"text",value:r.truth,placeholder:r.truth,onInput:s=>t(s.currentTarget.value),class:"bg-transparent p-2 w-full",disabled:!x})]})}export{C as default};
