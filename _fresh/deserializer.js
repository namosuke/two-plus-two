var e="_f";function h(a){let s=atob(a),c=s.length,o=new Uint8Array(c);for(let i=0;i<c;i++)o[i]=s.charCodeAt(i);return o}function w(a,s){function c(u,t){if(typeof t=="object"&&t&&e in t){let n=t;if(n[e]==="s")return s(n.v);if(n[e]==="b")return BigInt(n.d);if(n[e]==="u8a")return h(n.d);if(n[e]==="l"){let r=n.v;return r[e]=n.k,r}throw new Error(`Unknown key: ${n[e]}`)}return t}let{v:o,r:i}=JSON.parse(a,c),d=i??[];for(let[u,...t]of d){let n=u.reduce((r,f)=>f===null?r:r[f],o);for(let r of t){if(r.length===0)throw new Error("Invalid reference");let f=r.slice(0,-1).reduce((g,l)=>l===null?g:g[l],o);f[r[r.length-1]]=n}}return o}export{w as deserialize};
